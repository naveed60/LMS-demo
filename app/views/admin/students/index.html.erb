<%= turbo_frame_tag 'main' do %>
  <%= stylesheet_link_tag "student", "data-turbo-track": "reload" %>

  <div style="text-align:center; margin-top:1rem;">
    <h1 style="font-weight:700; color:#343a40;">Students</h1>

    <p>
      <%= link_to "Add Student", new_admin_student_path,
          class: "btn btn-primary",
          style: "background-color:#6f42c1; border-color:#6f42c1;
                  color:white; padding:0.6rem 2rem; border-radius:50rem;
                  font-weight:600; border:none;" %>
    </p>
  </div>

  <div class="table-responsive" style="padding:1rem; max-width:1100px; margin:auto;">
    <table class="table table-hover table-bordered align-middle shadow-sm"
          style="border-radius:0.75rem; overflow:hidden; background:white; width:100%;">
      <thead style="background:linear-gradient(90deg, #6f42c1, #8e63d4); color:white;">
        <tr>
          <th scope="col" style="white-space:nowrap;">ID</th>
          <th scope="col">Name</th>
          <th scope="col">Email</th>
          <th scope="col">Batch</th>
          <th scope="col">Current Semester</th>
          <th scope="col" style="text-align:center;">Edit</th>
          <th scope="col" style="text-align:center;">Delete</th>
        </tr>
      </thead>
      <tbody>
        <% @students.each do |student| %>
          <tr>
            <td><%= student.id %></td>
            <td><%= link_to student.name, admin_student_path(student),
                    style: "font-weight:500; color:#6f42c1; text-decoration:none;" %></td>
            <td><%= student.email %></td>
            <td><%= student.batch_id %></td>
            <td><%= student.student_semesters.last.semester.semester_number %></td>
            <td style="text-align:center;">
              <%= link_to 'Edit', edit_admin_student_path(student),
                  class: "btn btn-sm btn-outline-info",
                  style: "border-radius:50rem; padding:0.3rem 1rem; font-weight:500;" %>
            </td>
            <td style="text-align:center;">
              <%= link_to "Delete", admin_student_path(student),
                  data: { turbo_method: :delete, turbo_confirm: "Are you sure?" },
                  class: "btn btn-sm btn-outline-danger",
                  style: "border-radius:50rem; padding:0.3rem 1rem; font-weight:500;" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

<% end %>
